{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/eslint-loader/index.js??ref--13-0!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/store/services/profile-service.js","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/store/services/profile-service.js","mtime":1604346484610},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEpzb25hIGZyb20gJ2pzb25hJzsKdmFyIHVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX0JBU0VfVVJMOwp2YXIganNvbmEgPSBuZXcgSnNvbmEoKTsKCmZ1bmN0aW9uIGdldE1lKCkgewogIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KHVybCwgIi9tZSIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgcmV0dXJuIHsKICAgICAgbWU6IHJlc3BvbnNlLmRhdGEKICAgIH07CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldE15UGVybWlzc2lvbnMoKSB7CiAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQodXJsLCAiL3NpZ25pbnBlcm1pc3Npb25zIikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiByZXNwb25zZS5kYXRhLmRhdGEsCiAgICAgIGN1cnJlbnRQZXJtaXNzaW9uczogcmVzcG9uc2UuZGF0YS5kYXRhWzBdCiAgICB9OwogIH0pOwp9CgpmdW5jdGlvbiB1cGRhdGUocHJvZmlsZSkgewogIHZhciBwYXlsb2FkID0ganNvbmEuc2VyaWFsaXplKHsKICAgIHN0dWZmOiBwcm9maWxlLAogICAgaW5jbHVkZU5hbWVzOiBbXQogIH0pOwogIHZhciBvcHRpb25zID0gewogICAgaGVhZGVyczogewogICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbicsCiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vdm5kLmFwaStqc29uJwogICAgfQogIH07CiAgcmV0dXJuIGF4aW9zLnBhdGNoKCIiLmNvbmNhdCh1cmwsICIvbWUiKSwgcGF5bG9hZCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIHJldHVybiBqc29uYS5kZXNlcmlhbGl6ZShyZXNwb25zZS5kYXRhKTsKICB9KTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGdldE1lOiBnZXRNZSwKICBnZXRNeVBlcm1pc3Npb25zOiBnZXRNeVBlcm1pc3Npb25zLAogIHVwZGF0ZTogdXBkYXRlCn07"},{"version":3,"sources":["/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/store/services/profile-service.js"],"names":["axios","Jsona","url","process","env","VUE_APP_API_BASE_URL","jsona","getMe","get","then","response","me","data","getMyPermissions","list","currentPermissions","update","profile","payload","serialize","stuff","includeNames","options","headers","patch","deserialize"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,oBAAxB;AACA,IAAMC,KAAK,GAAG,IAAIL,KAAJ,EAAd;;AAEA,SAASM,KAAT,GAAiB;AACf,SAAOP,KAAK,CAACQ,GAAN,WAAaN,GAAb,UACJO,IADI,CACC,UAAAC,QAAQ,EAAI;AAChB,WAAO;AACLC,MAAAA,EAAE,EAAED,QAAQ,CAACE;AADR,KAAP;AAGD,GALI,CAAP;AAMD;;AAED,SAASC,gBAAT,GAA4B;AAC1B,SAAOb,KAAK,CAACQ,GAAN,WAAaN,GAAb,yBACJO,IADI,CACC,UAAAC,QAAQ,EAAI;AAChB,WAAO;AACLI,MAAAA,IAAI,EAAEJ,QAAQ,CAACE,IAAT,CAAcA,IADf;AAELG,MAAAA,kBAAkB,EAAEL,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmB,CAAnB;AAFf,KAAP;AAID,GANI,CAAP;AAOD;;AAGD,SAASI,MAAT,CAAgBC,OAAhB,EAAyB;AAEvB,MAAMC,OAAO,GAAGZ,KAAK,CAACa,SAAN,CAAgB;AAC9BC,IAAAA,KAAK,EAAEH,OADuB;AAE9BI,IAAAA,YAAY,EAAE;AAFgB,GAAhB,CAAhB;AAKA,MAAMC,OAAO,GAAG;AACdC,IAAAA,OAAO,EAAE;AACP,gBAAU,0BADH;AAEP,sBAAgB;AAFT;AADK,GAAhB;AAOA,SAAOvB,KAAK,CAACwB,KAAN,WAAetB,GAAf,UAAyBgB,OAAzB,EAAkCI,OAAlC,EACJb,IADI,CACC,UAAAC,QAAQ,EAAI;AAChB,WAAOJ,KAAK,CAACmB,WAAN,CAAkBf,QAAQ,CAACE,IAA3B,CAAP;AACD,GAHI,CAAP;AAID;;AAED,eAAe;AACbL,EAAAA,KAAK,EAALA,KADa;AAEbM,EAAAA,gBAAgB,EAAhBA,gBAFa;AAGbG,EAAAA,MAAM,EAANA;AAHa,CAAf","sourcesContent":["import axios from 'axios';\nimport Jsona from 'jsona';\n\nconst url = process.env.VUE_APP_API_BASE_URL;\nconst jsona = new Jsona();\n\nfunction getMe() {\n  return axios.get(`${url}/me`)\n    .then(response => {\n      return {\n        me: response.data,\n      };\n    });\n}\n\nfunction getMyPermissions() {\n  return axios.get(`${url}/signinpermissions`)\n    .then(response => {\n      return {\n        list: response.data.data,\n        currentPermissions: response.data.data[0],\n      };\n    });\n}\n\n\nfunction update(profile) {\n\n  const payload = jsona.serialize({\n    stuff: profile,\n    includeNames: []\n  });\n\n  const options = {\n    headers: {\n      'Accept': 'application/vnd.api+json',\n      'Content-Type': 'application/vnd.api+json',\n    }\n  };\n\n  return axios.patch(`${url}/me`, payload, options)\n    .then(response => {\n      return jsona.deserialize(response.data);\n    });\n}\n\nexport default {\n  getMe,\n  getMyPermissions,\n  update\n};\n"]}]}