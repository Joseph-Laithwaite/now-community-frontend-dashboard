{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/eslint-loader/index.js??ref--13-0!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/middleware/cashier.js","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/middleware/cashier.js","mtime":1606331388987},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aChfcmVmKSB7CiAgdmFyIG5leHQgPSBfcmVmLm5leHQsCiAgICAgIHJvdXRlciA9IF9yZWYucm91dGVyOwogIHZhciBwZXJtaXNzaW9uID0gc3RvcmUuZ2V0dGVyc1sicHJvZmlsZS9jdXJyZW50UGVybWlzc2lvbnMiXTsKICBjb25zb2xlLmxvZyhwZXJtaXNzaW9uKTsgLy8gY29uc29sZS5sb2cocGVybWlzc2lvbi5pbmRlcGVuZGVudCk7CiAgLy8gbGV0IGluZGVwZW5kZW50ID0gc3RvcmUuZGlzcGF0Y2goImluZGVwZW5kZW50cy9pbmRlcGVuZGVudCIsIHBlcm1pc3Npb24uaW5kZXBlbmRlbnQpOwogIC8vIGNvbnNvbGUubG9nKGluZGVwZW5kZW50KTsKCiAgY29uc29sZS5sb2coInBlcm1pc3Npb24gZnJvbSBjYXNoaWVyIG1pZGRsZXdhcmUiKTsgLy8gbGV0IGN1cnJlbnRJbmRlcGVuZGVudCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbImluZGVwZW5kZW50cy9pbmRlcGVuZGVudCJdOwoKICBpZiAoIXN0b3JlLmdldHRlcnMuaXNBdXRoZW50aWNhdGVkICYmIHBlcm1pc3Npb24uYXV0aF9sZXZlbCA+IDMpIC8vICYmIHBlcm1pc3Npb24uaW5kZXBlbmRlbnRfaWQgIT09IGN1cnJlbnRJbmRlcGVuZGVudC5pZCAKICAgIHsKICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAibG9naW4iCiAgICAgIH0pOwogICAgfQoKICByZXR1cm4gbmV4dCgpOwp9"},{"version":3,"sources":["/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/middleware/cashier.js"],"names":["store","auth","next","router","permission","getters","console","log","isAuthenticated","auth_level","push","name"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,UAAlB;AAEA,eAAe,SAASC,IAAT,OAAgC;AAAA,MAAhBC,IAAgB,QAAhBA,IAAgB;AAAA,MAAVC,MAAU,QAAVA,MAAU;AAC7C,MAAIC,UAAU,GAAGJ,KAAK,CAACK,OAAN,CAAc,4BAAd,CAAjB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ,EAF6C,CAG7C;AACA;AACA;;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAN6C,CAQ7C;;AACA,MAAI,CAACP,KAAK,CAACK,OAAN,CAAcG,eAAf,IAAkCJ,UAAU,CAACK,UAAX,GAAwB,CAA9D,EACE;AAEF;AACE,aAAON,MAAM,CAACO,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ,CAAP;AACD;;AAED,SAAOT,IAAI,EAAX;AACD","sourcesContent":["import store from \"../store\";\n\nexport default function auth({ next, router }) {\n  let permission = store.getters[\"profile/currentPermissions\"];\n  console.log(permission);\n  // console.log(permission.independent);\n  // let independent = store.dispatch(\"independents/independent\", permission.independent);\n  // console.log(independent);\n  console.log(\"permission from cashier middleware\");\n\n  // let currentIndependent = this.$store.getters[\"independents/independent\"];\n  if (!store.getters.isAuthenticated && permission.auth_level > 3)\n    // && permission.independent_id !== currentIndependent.id \n     \n  {\n    return router.push({ name: \"login\" });\n  }\n\n  return next();\n}\n"]}]}