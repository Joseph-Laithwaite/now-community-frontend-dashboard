{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/pages/Dashboard/Examples/UserProfile/EditPasswordCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/pages/Dashboard/Examples/UserProfile/EditPasswordCard.vue","mtime":1598060882000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvam9zZXBobGFpdGh3YWl0ZS9Eb2N1bWVudHMvVnVlTGVhcm5pbmcvTkMtdnVlLWxhcmF2ZWwtZGFzaGJvYXJkL3Z1ZS1tYXRlcmlhbC1kYXNoYm9hcmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICJAL2NvbXBvbmVudHMiOwppbXBvcnQgZm9ybU1peGluIGZyb20gIkAvbWl4aW5zL2Zvcm0tbWl4aW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImVkaXQtcGFzc3dvcmQtY2FyZCIsCiAgcHJvcHM6IHsKICAgIHVzZXI6IE9iamVjdAogIH0sCiAgY29tcG9uZW50czogewogICAgVmFsaWRhdGlvbkVycm9yOiBWYWxpZGF0aW9uRXJyb3IKICB9LAogIG1peGluczogW2Zvcm1NaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBuZXdfcGFzc3dvcmQ6IG51bGwsCiAgICAgIGNvbmZpcm1fcGFzc3dvcmQ6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghWyIxIiwgIjIiLCAiMyJdLmluY2x1ZGVzKF90aGlzLnVzZXIuaWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFsZXJ0cy9lcnJvciIsICJZb3UgYXJlIG5vdCBhbGxvd2VkIG5vdCBjaGFuZ2UgZGF0YSBvZiBkZWZhdWx0IHVzZXJzLiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXMudXNlci5wYXNzd29yZCA9IF90aGlzLnBhc3N3b3JkOwogICAgICAgICAgICAgICAgX3RoaXMudXNlci5wYXNzd29yZF9uZXcgPSBfdGhpcy5uZXdfcGFzc3dvcmQ7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VyLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiA9IF90aGlzLmNvbmZpcm1fcGFzc3dvcmQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXJzL3VwZGF0ZSIsIF90aGlzLnVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWxlcnRzL2Vycm9yIiwgIlBhc3N3b3JkIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LiIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJwcm9maWxlL21lIl07CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhpcy51c2VyID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcmVmc1sncGFzc3dvcmRfZm9ybSddLnJlc2V0KCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDcpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWxlcnRzL2Vycm9yIiwgIk9vcHMsIHNvbWV0aGluZyB3ZW50IHdyb25nISIpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX3RoaXMuc2V0QXBpVmFsaWRhdGlvbihfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLmVycm9ycyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzcsIDE4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["EditPasswordCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,eAAA,QAAA,cAAA;AACA,OAAA,SAAA,MAAA,qBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAHA;AAOA,EAAA,UAAA,EAAA;AAAA,IAAA,eAAA,EAAA;AAAA,GAPA;AASA,EAAA,MAAA,EAAA,CAAA,SAAA,CATA;AAWA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,gBAAA,EAAA;AAHA,KAAA;AAAA,GAXA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,CAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,QAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA,CADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,uDAAA,CAFA;;AAAA;AAAA;;AAAA;AAMA,gBAAA,KAAA,CAAA,IAAA,CAAA,QAAA,GAAA,KAAA,CAAA,QAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,YAAA,GAAA,KAAA,CAAA,YAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,qBAAA,GAAA,KAAA,CAAA,gBAAA;AARA;AAAA;AAAA,uBAWA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,KAAA,CAAA,IAAA,CAXA;;AAAA;AAAA;AAAA,uBAYA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,gCAAA,CAZA;;AAAA;AAAA;AAAA,uBAaA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,YAAA,CAbA;;AAAA;AAaA,gBAAA,KAAA,CAAA,IAbA;;AAcA,gBAAA,KAAA,CAAA,KAAA,CAAA,eAAA,EAAA,KAAA;;AAdA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBAgBA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,6BAAA,CAhBA;;AAAA;AAiBA,gBAAA,KAAA,CAAA,gBAAA,CAAA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AArBA;AAjBA,CAAA","sourcesContent":["<template>\n  <form ref=\"password_form\" @submit.prevent=\"changePassword\">\n\n    <md-card>\n\n      <md-card-header class=\"md-card-header-icon\">\n        <div class=\"card-icon\">\n          <md-icon>perm_identity</md-icon>\n        </div>\n        <h4 class=\"title\">\n          Change Password\n        </h4>\n      </md-card-header>\n\n      <md-card-content>\n        <div class=\"md-layout\">\n          <div class=\"md-layout-item md-size-100\">\n            <md-field class=\"md-invalid\">\n              <label>Current Password</label>\n              <md-input v-model=\"password\" type=\"password\"/>\n              <validation-error :errors=\"apiValidationErrors.password\"/>\n            </md-field>\n            <md-field class=\"md-invalid\">\n              <label>New Password</label>\n              <md-input v-model=\"new_password\" type=\"password\"/>\n              <validation-error :errors=\"apiValidationErrors.password_confirmation\"/>\n            </md-field>\n            <md-field class=\"md-invalid\">\n              <label>Confirm New Password</label>\n              <md-input v-model=\"confirm_password\" type=\"password\"/>\n              <validation-error :errors=\"apiValidationErrors.password_confirmation\"/>\n            </md-field>\n          </div>\n        </div>\n      </md-card-content>\n\n      <md-card-actions>\n        <md-button type=\"submit\">\n          Change Password\n        </md-button>\n      </md-card-actions>\n    </md-card>\n\n  </form>\n</template>\n\n<script>\n  import {ValidationError} from \"@/components\";\n  import formMixin from \"@/mixins/form-mixin\";\n  export default {\n    name: \"edit-password-card\",\n\n    props: {\n      user: Object\n    },\n\n    components: {ValidationError},\n\n    mixins: [formMixin],\n\n    data: () => ({\n      password: null,\n      new_password: null,\n      confirm_password: null\n    }),\n\n    methods: {\n      async changePassword() {\n        if([\"1\", \"2\", \"3\"].includes(this.user.id)) {\n          await this.$store.dispatch(\"alerts/error\", \"You are not allowed not change data of default users.\")\n          return\n        }\n\n        this.user.password = this.password;\n        this.user.password_new = this.new_password;\n        this.user.password_confirmation = this.confirm_password;\n\n        try {\n          await this.$store.dispatch(\"users/update\", this.user)\n          await this.$store.dispatch(\"alerts/error\", \"Password changed successfully.\")\n          this.user = await this.$store.getters[\"profile/me\"]\n          this.$refs['password_form'].reset()\n        } catch (e) {\n          await this.$store.dispatch(\"alerts/error\", \"Oops, something went wrong!\")\n          this.setApiValidation(e.response.data.errors)\n        }\n\n      }\n    }\n  };\n</script>\n"],"sourceRoot":"src/pages/Dashboard/Examples/UserProfile"}]}