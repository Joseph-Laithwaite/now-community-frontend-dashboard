{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/pages/Dashboard/Layout/Extra/IndependentSelectorMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/pages/Dashboard/Layout/Extra/IndependentSelectorMenu.vue","mtime":1606918594796},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pvc2VwaGxhaXRod2FpdGUvRG9jdW1lbnRzL1Z1ZUxlYXJuaW5nL05DLXZ1ZS1sYXJhdmVsLWRhc2hib2FyZC92dWUtbWF0ZXJpYWwtZGFzaGJvYXJkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRlcGVuZGVudFBlcm1pc3Npb25zZWxlY3RvcicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQ2xvc2VkOiB0cnVlLAogICAgICBpbmRlcGVuZGVudFBlcm1pc3Npb25zOiBbXSwKICAgICAgc2VsZWN0ZWRJbmRlcGVuZGVudDoge30sCiAgICAgIHBlcm1pc3Npb25Db3VudDogMAogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJwcm9maWxlL215UGVybWlzc2lvbnMiXTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpcy5pbmRlcGVuZGVudFBlcm1pc3Npb25zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmdldHRlcnNbInByb2ZpbGUvY3VycmVudFBlcm1pc3Npb25zIl07CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWRJbmRlcGVuZGVudCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMucGVybWlzc2lvbkNvdW50ID0gX3RoaXMuaW5kZXBlbmRlbnRQZXJtaXNzaW9ucy5sZW5ndGg7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgc2luZ2xlaW5kZXBlbmRlbnRQZXJtaXNzaW9uczogZnVuY3Rpb24gc2luZ2xlaW5kZXBlbmRlbnRQZXJtaXNzaW9ucygpIHsKICAgICAgaWYgKHRoaXMucGVybWlzc2lvbkNvdW50ID4gMSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0SW5kZXBlbmRlbnQ6IGZ1bmN0aW9uIHNlbGVjdEluZGVwZW5kZW50KHBlcm1pc3Npb24pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gdGhpcy5zZWxlY3RlZEluZGVwZW5kZW50ID0gcGVybWlzc2lvbgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkFib3V0IHRvIGNhbGwgc2V0Q3VycmVudFBlcm1pc3Npb25zIGZyb20gYXN5bmMgc2VsZWN0SW5kZXBlbmRlbnQiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBlcm1pc3Npb24pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goInByb2ZpbGUvc2V0Q3VycmVudFBlcm1pc3Npb25zIiwgcGVybWlzc2lvbik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmdldHRlcnNbInByb2ZpbGUvY3VycmVudFBlcm1pc3Npb25zIl07CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZEluZGVwZW5kZW50ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiTmV3bHkgc2V0IGN1cnJlbnQgcGVybWlzc2lvbnMgaXM6ICIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLnNlbGVjdGVkSW5kZXBlbmRlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGlja2VkOiBmdW5jdGlvbiBjbGlja2VkKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIHRvZ2dsZU1lbnU6IGZ1bmN0aW9uIHRvZ2dsZU1lbnUoKSB7CiAgICAgIHRoaXMuaXNDbG9zZWQgPSAhdGhpcy5pc0Nsb3NlZDsKICAgIH0sCiAgICBnb1RvUHJvZmlsZTogZnVuY3Rpb24gZ29Ub1Byb2ZpbGUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiaW5kZXBlbmRlbnRQZXJtaXNzaW9ucyBQcm9maWxlIgogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["IndependentSelectorMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA,eAAA;AACA,EAAA,IAAA,EAAA,+BADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,sBAAA,EAAA,EAFA;AAGA,MAAA,mBAAA,EAAA,EAHA;AAIA,MAAA,eAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAWA,EAAA,YAXA,0BAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,uBAAA,CAHA;;AAAA;AAGA,cAAA,KAAA,CAAA,sBAHA;AAAA;AAAA,qBAIA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,4BAAA,CAJA;;AAAA;AAIA,cAAA,KAAA,CAAA,mBAJA;AAKA,cAAA,KAAA,CAAA,eAAA,GAAA,KAAA,CAAA,sBAAA,CAAA,MAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,GAjBA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,4BADA,0CACA;AACA,UAAA,KAAA,eAAA,GAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA,OAFA,MAEA;AACA,eAAA,IAAA;AACA;AACA;AAPA,GAnBA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,6BACA,UADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,kEAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,UAAA;AAHA;AAAA,uBAIA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,+BAAA,EAAA,UAAA,CAJA;;AAAA;AAAA;AAAA,uBAKA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,4BAAA,CALA;;AAAA;AAKA,gBAAA,MAAA,CAAA,mBALA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,oCAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,mBAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KATA;AAUA,IAAA,OAAA,EAAA,iBAAA,CAAA,EAAA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,KAZA;AAaA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,QAAA,GAAA,CAAA,KAAA,QAAA;AACA,KAfA;AAgBA,IAAA,WAhBA,yBAgBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AAlBA;AA7BA,CAAA","sourcesContent":["<template>\n  <div>\n    <sidebar-item \n      v-if=\"typeof selectedIndependent.independent !== 'undefined'\"\n\n      :link=\"{ \n        name:  selectedIndependent.independent.name,\n        image: '' ,\n        icon: 'storefront'\n      }\"\n    >\n      <span v-if=\"permissionCount>1\">\n        <sidebar-item\n          v-for=\"permission in independentPermissions\"\n          :key=\"permission.id\"\n          :link=\"{\n            id: permission.id,\n            name: permission.independent.name,\n            image: permission.independent.logo,\n            icon: 'storefront',\n            path: '',\n            emit: 'select_independent'\n          }\"\n          @select_independent=\"selectIndependent(permission)\"\n        />\n      </span>\n\n      <sidebar-item\n        :link=\"{\n          id: 'addNewIndependent',\n          name: 'Add Independent',\n          image: '',\n          icon: 'add_business',\n          path: {name:'Register Business', hash:'#basicDetails'},\n          emit: 'add_new_independent'\n        }\"\n      />\n    </sidebar-item>\n  </div>\n  <!-- <div class=\"user\">\n    <div class=\"photo\"\n      v-if=\"typeof selectedIndependent.logo == undefined\"\n    >\n      <img \n        :src=\"selectedIndependent.logo\"\n        :alt=\"selectedIndependent.independent.name + ' logo'\" />\n    </div>\n    <a\n      v-else\n      class=\"nav-link sidebar-menu-item\"\n    >\n      <md-icon>\n        storefront\n      </md-icon>\n    </a>\n    <div class=\"user-info\">\n      <a\n        data-toggle=\"collapse\"\n        :aria-expanded=\"!isClosed\"\n        @click.stop=\"toggleMenu\"\n        @click.capture=\"clicked\"\n      >\n        <span>\n          {{ selectedIndependent.independent.name }}\n          <b v-if=\"!singleindependentPermissions\" class=\"caret\"></b>\n        </span>\n      </a>\n\n      <collapse-transition v-if=\"!singleindependentPermissions\">\n        <div v-show=\"!isClosed\">\n          <ul class=\"nav\">\n              <li v-for=\"independentPermissions in independentPermissions\" :key=independentPermissions.id>\n                  <div class=\"photo\">\n                    <img :src=\"independentPermissions.logo\" :alt=\"independentPermissions.independent.name + ' logo'\" />\n                  </div>\n                  <div class=\"user-info\">\n                    <a>\n                      <span>\n                        {{ independentPermissions.independent.name }}\n                      </span>\n                    </a>\n                  </div>\n              </li>\n          </ul>\n        </div>\n      </collapse-transition>\n    </div>\n  </div> -->\n</template>\n<script>\nexport default {\n  name: 'independentPermissionselector',\n  data() {\n    return {\n      isClosed: true,\n      independentPermissions: [],\n      selectedIndependent: {},\n      permissionCount: 0,\n    };\n  },\n\n  async beforeCreate() {\n    \n    // await this.$store.dispatch(\"profile/myPermissions\");\n    this.independentPermissions =  await this.$store.getters[\"profile/myPermissions\"];\n    this.selectedIndependent =  await this.$store.getters[\"profile/currentPermissions\"];\n    this.permissionCount =  this.independentPermissions.length;\n  },\n\n  computed:{\n    singleindependentPermissions(){\n      if(this.permissionCount>1){\n        return false;\n      }else{\n        return true;\n      }\n    },\n  },\n\n  methods: {\n    async selectIndependent(permission){\n      // this.selectedIndependent = permission\n      console.log(\"About to call setCurrentPermissions from async selectIndependent\");\n      console.log(permission);\n      await this.$store.dispatch(\"profile/setCurrentPermissions\", permission);\n      this.selectedIndependent = await this.$store.getters[\"profile/currentPermissions\"]\n      console.log(\"Newly set current permissions is: \");\n      console.log(this.selectedIndependent);\n    },\n    clicked: function(e) {\n      e.preventDefault();\n    },\n    toggleMenu: function() {\n      this.isClosed = !this.isClosed;\n    },\n    goToProfile() {\n      this.$router.push({name: \"independentPermissions Profile\"})\n    },\n  }\n}\n</script>\n<style>\n.collapsed {\n  transition: opacity 1s;\n}\n</style>\n"],"sourceRoot":"src/pages/Dashboard/Layout/Extra"}]}