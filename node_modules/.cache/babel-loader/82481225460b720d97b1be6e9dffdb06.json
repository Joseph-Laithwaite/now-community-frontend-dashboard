{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/components/ImageUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/components/ImageUpload.vue","mtime":1605702275375},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaXRlbUlEOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogInByb2R1Y3RfaW1hZ2UiCiAgICB9LAogICAgaW1hZ2VVUkw6IHsKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHBsYWNlaG9sZGVyVVJMOiB7CiAgICAgIGRlZmF1bHQ6ICJodHRwczovL3dvbHBlci5jb20uYXUvd3AtY29udGVudC91cGxvYWRzLzIwMTcvMTAvaW1hZ2UtcGxhY2Vob2xkZXIuanBnIgogICAgfSwKICAgIG1heEZpbGVTaXplOiB7CiAgICAgIGRlZmF1bHQ6IDI5Njk2MAogICAgfSwKICAgIGhlaWdodDogewogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICB3aWR0aDogewogICAgICBkZWZhdWx0OiAxMDAKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlT3ZlcnNpemVkOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRGaWxlOiBudWxsLAogICAgICB1cmw6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlRmlsZTogZnVuY3Rpb24gY2hhbmdlRmlsZShldmVudCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gdmFyIGZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLml0ZW1JRCkuZmlsZXNbMF07CiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkRmlsZSk7CgogICAgICBpZiAodGhpcy5zZWxlY3RlZEZpbGUuc2l6ZSA8PSB0aGlzLm1heEZpbGVTaXplKSB7CiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgLy8gICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2UnKTsKICAgICAgICAgIF90aGlzLnVybCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICB9OwoKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICAgICAgdGhpcy4kZW1pdCgnbmV3LWZpbGUnLCB0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFsZXJ0cy9lcnJvciIsICJUaGUgaW1hZ2UgeW91J3JlIHRyeWluZyB0byB1cGxvYWQgbXVzdCBiZSB1bmRlciAiICsgdGhpcy5tYXhGaWxlU2l6ZSAvIDEwMDAgKyAia2IiKTsgLy8gaW1hZ2Uuc3JjID0gdGhpcy5wbGFjZWhvbGRlclVSTDsKICAgICAgfQogICAgfSwKICAgIGZpbGVGcm9tVXJsOiBmdW5jdGlvbiBmaWxlRnJvbVVybCh1cmwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBmZXRjaCh1cmwsIHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgIC8vICpHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBldGMuCiAgICAgICAgbW9kZTogJ2NvcnMnLAogICAgICAgIC8vIG5vLWNvcnMsICpjb3JzLCBzYW1lLW9yaWdpbgogICAgICAgIGNhY2hlOiAnbm8tY2FjaGUnLAogICAgICAgIC8vICpkZWZhdWx0LCBuby1jYWNoZSwgcmVsb2FkLCBmb3JjZS1jYWNoZSwgb25seS1pZi1jYWNoZWQKICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLAogICAgICAgIC8vIGluY2x1ZGUsICpzYW1lLW9yaWdpbiwgb21pdAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicgLy8gJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgLy8gJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAoKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuYmxvYigpOwogICAgICB9KSAvLyBHZXRzIHRoZSByZXNwb25zZSBhbmQgcmV0dXJucyBpdCBhcyBhIGJsb2IKICAgICAgLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgICBjb25zb2xlLmxvZyhibG9iKTsKCiAgICAgICAgX3RoaXMyLiRlbWl0KCduZXctZmlsZScsIGJsb2IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodHlwZW9mIHRoaXMuaW1hZ2VVUkwgPT0gJ251bGwnIHx8IHRoaXMuaW1hZ2VVUkwgPT0gJycpIHsKICAgICAgdGhpcy51cmwgPSB0aGlzLnBsYWNlaG9sZGVyVVJMOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy51cmwgPSB0aGlzLmltYWdlVVJMOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ImageUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,QAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KALA;AAMA,IAAA,cAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KANA;AAOA,IAAA,WAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAPA;AAQA,IAAA,MAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KARA;AASA,IAAA,KAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA;AATA,GADA;AAaA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAAA,GAbA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,KADA,EACA;AAAA;;AACA;AACA,WAAA,YAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,YAAA;;AACA,UAAA,KAAA,YAAA,CAAA,IAAA,IAAA,KAAA,WAAA,EAAA;AACA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,GAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,SAHA;;AAIA,QAAA,MAAA,CAAA,aAAA,CAAA,KAAA,YAAA;AACA,aAAA,KAAA,CAAA,UAAA,EAAA,KAAA,YAAA;AACA,OARA,MAQA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,qDAAA,KAAA,WAAA,GAAA,IAAA,GAAA,IAAA,EADA,CAEA;AACA;AACA,KAjBA;AAkBA,IAAA,WAlBA,uBAkBA,GAlBA,EAkBA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,EAAA;AACA,QAAA,MAAA,EAAA,KADA;AACA;AACA,QAAA,IAAA,EAAA,MAFA;AAEA;AACA,QAAA,KAAA,EAAA,UAHA;AAGA;AACA,QAAA,WAAA,EAAA,SAJA;AAIA;AACA,QAAA,OAAA,EAAA;AACA,yCAAA,GADA,CAEA;AACA;;AAHA;AALA,OAAA,CAAA,CAWA,IAXA,CAWA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OAXA,EAWA;AAXA,OAYA,IAZA,CAYA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,UAAA,EAAA,IAAA;AACA,OAfA;AAgBA;AAnCA,GAnBA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,QAAA,OAAA,KAAA,QAAA,IAAA,MAAA,IAAA,KAAA,QAAA,IAAA,EAAA,EAAA;AACA,WAAA,GAAA,GAAA,KAAA,cAAA;AACA,KAFA,MAGA;AACA,WAAA,GAAA,GAAA,KAAA,QAAA;AACA;AACA;AA/DA,CAAA","sourcesContent":["<template>\n    <div>\n        <div>\n            <label :for=\"itemID\">\n            <img \n                id=image \n                :src=\"url\" \n                :height=\"height\" \n                :width=\"width\"\n                style=\"\n                cursor:pointer;\n                display: block;\n                margin-left: auto;\n                margin-right: auto; \"\n            />\n            </label>\n            <input \n                :id=\"itemID\" \n                type=file \n                accept=\"image/*\"\n                :name=\"itemID\"\n                @change=\"changeFile\"\n                style=\"display: none;\"\n            >\n        </div>\n        <span class=\"md-error\" v-if=\"fileOversized\">\n            file too large.\n            <br>\n        </span>\n    </div>\n</template>\n\n<script>\nimport Axios from 'axios';\nexport default {\n    props:{\n        itemID: { \n            type: String,\n            default: \"product_image\",\n        },\n        imageURL: {default:null},\n        placeholderURL: {default: \"https://wolper.com.au/wp-content/uploads/2017/10/image-placeholder.jpg\"},\n        maxFileSize: { default:296960 },\n        height:{ default:100} ,\n        width:{ default:100}\n    },\n    \n    data: () => ({\n        fileOversized: false,\n        selectedFile: null,\n        url: \"\",\n    }),\n\n    methods: {\n        changeFile(event){\n            // var file = document.getElementById(this.itemID).files[0];\n            this.selectedFile = event.target.files[0];\n            console.log(this.selectedFile);\n            if(this.selectedFile.size <= this.maxFileSize){\n                var reader  = new FileReader();\n                reader.onload = (e) => {\n                //   var image = document.getElementById('image');\n                  this.url = e.target.result;\n                }\n                reader.readAsDataURL(this.selectedFile);\n                this.$emit('new-file', this.selectedFile);\n            }else{\n                this.$store.dispatch(\"alerts/error\", \"The image you're trying to upload must be under \" + this.maxFileSize/1000 + \"kb\")\n                // image.src = this.placeholderURL;\n            }\n        },\n        fileFromUrl(url){\n            fetch(url, {\n                method: 'GET', // *GET, POST, PUT, DELETE, etc.\n                mode: 'cors', // no-cors, *cors, same-origin\n                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n                credentials: 'include', // include, *same-origin, omit\n                headers: {\n                    'Access-Control-Allow-Origin':'*'\n                // 'Content-Type': 'application/json'\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n                },\n                })\n                .then(res => res.blob()) // Gets the response and returns it as a blob\n                .then(blob => {\n                    console.log(blob);\n                    this.$emit('new-file', blob);\n                });\n            }\n        },\n        created(){\n            if(typeof this.imageURL == 'null' || this.imageURL == ''){\n                this.url = this.placeholderURL;\n            }\n            else{\n                this.url = this.imageURL;\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}