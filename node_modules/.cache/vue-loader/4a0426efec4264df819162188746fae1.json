{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/vue-material-dashboard-laravel-master/vue-material-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josephlaithwaite/Documents/VueLearning/vue-material-dashboard-laravel-master/vue-material-dashboard/src/pages/Dashboard/Examples/UserProfile/EditPasswordCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/vue-material-dashboard-laravel-master/vue-material-dashboard/src/pages/Dashboard/Examples/UserProfile/EditPasswordCard.vue","mtime":1598060882000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/vue-material-dashboard-laravel-master/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/vue-material-dashboard-laravel-master/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/vue-material-dashboard-laravel-master/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/vue-material-dashboard-laravel-master/vue-material-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7VmFsaWRhdGlvbkVycm9yfSBmcm9tICJAL2NvbXBvbmVudHMiOwppbXBvcnQgZm9ybU1peGluIGZyb20gIkAvbWl4aW5zL2Zvcm0tbWl4aW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImVkaXQtcGFzc3dvcmQtY2FyZCIsCgogIHByb3BzOiB7CiAgICB1c2VyOiBPYmplY3QKICB9LAoKICBjb21wb25lbnRzOiB7VmFsaWRhdGlvbkVycm9yfSwKCiAgbWl4aW5zOiBbZm9ybU1peGluXSwKCiAgZGF0YTogKCkgPT4gKHsKICAgIHBhc3N3b3JkOiBudWxsLAogICAgbmV3X3Bhc3N3b3JkOiBudWxsLAogICAgY29uZmlybV9wYXNzd29yZDogbnVsbAogIH0pLAoKICBtZXRob2RzOiB7CiAgICBhc3luYyBjaGFuZ2VQYXNzd29yZCgpIHsKICAgICAgaWYoWyIxIiwgIjIiLCAiMyJdLmluY2x1ZGVzKHRoaXMudXNlci5pZCkpIHsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWxlcnRzL2Vycm9yIiwgIllvdSBhcmUgbm90IGFsbG93ZWQgbm90IGNoYW5nZSBkYXRhIG9mIGRlZmF1bHQgdXNlcnMuIikKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgdGhpcy51c2VyLnBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsKICAgICAgdGhpcy51c2VyLnBhc3N3b3JkX25ldyA9IHRoaXMubmV3X3Bhc3N3b3JkOwogICAgICB0aGlzLnVzZXIucGFzc3dvcmRfY29uZmlybWF0aW9uID0gdGhpcy5jb25maXJtX3Bhc3N3b3JkOwoKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlcnMvdXBkYXRlIiwgdGhpcy51c2VyKQogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhbGVydHMvZXJyb3IiLCAiUGFzc3dvcmQgY2hhbmdlZCBzdWNjZXNzZnVsbHkuIikKICAgICAgICB0aGlzLnVzZXIgPSBhd2FpdCB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJwcm9maWxlL21lIl0KICAgICAgICB0aGlzLiRyZWZzWydwYXNzd29yZF9mb3JtJ10ucmVzZXQoKQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFsZXJ0cy9lcnJvciIsICJPb3BzLCBzb21ldGhpbmcgd2VudCB3cm9uZyEiKQogICAgICAgIHRoaXMuc2V0QXBpVmFsaWRhdGlvbihlLnJlc3BvbnNlLmRhdGEuZXJyb3JzKQogICAgICB9CgogICAgfQogIH0KfTsK"},{"version":3,"sources":["EditPasswordCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"EditPasswordCard.vue","sourceRoot":"src/pages/Dashboard/Examples/UserProfile","sourcesContent":["<template>\n  <form ref=\"password_form\" @submit.prevent=\"changePassword\">\n\n    <md-card>\n\n      <md-card-header class=\"md-card-header-icon\">\n        <div class=\"card-icon\">\n          <md-icon>perm_identity</md-icon>\n        </div>\n        <h4 class=\"title\">\n          Change Password\n        </h4>\n      </md-card-header>\n\n      <md-card-content>\n        <div class=\"md-layout\">\n          <div class=\"md-layout-item md-size-100\">\n            <md-field class=\"md-invalid\">\n              <label>Current Password</label>\n              <md-input v-model=\"password\" type=\"password\"/>\n              <validation-error :errors=\"apiValidationErrors.password\"/>\n            </md-field>\n            <md-field class=\"md-invalid\">\n              <label>New Password</label>\n              <md-input v-model=\"new_password\" type=\"password\"/>\n              <validation-error :errors=\"apiValidationErrors.password_confirmation\"/>\n            </md-field>\n            <md-field class=\"md-invalid\">\n              <label>Confirm New Password</label>\n              <md-input v-model=\"confirm_password\" type=\"password\"/>\n              <validation-error :errors=\"apiValidationErrors.password_confirmation\"/>\n            </md-field>\n          </div>\n        </div>\n      </md-card-content>\n\n      <md-card-actions>\n        <md-button type=\"submit\">\n          Change Password\n        </md-button>\n      </md-card-actions>\n    </md-card>\n\n  </form>\n</template>\n\n<script>\n  import {ValidationError} from \"@/components\";\n  import formMixin from \"@/mixins/form-mixin\";\n  export default {\n    name: \"edit-password-card\",\n\n    props: {\n      user: Object\n    },\n\n    components: {ValidationError},\n\n    mixins: [formMixin],\n\n    data: () => ({\n      password: null,\n      new_password: null,\n      confirm_password: null\n    }),\n\n    methods: {\n      async changePassword() {\n        if([\"1\", \"2\", \"3\"].includes(this.user.id)) {\n          await this.$store.dispatch(\"alerts/error\", \"You are not allowed not change data of default users.\")\n          return\n        }\n\n        this.user.password = this.password;\n        this.user.password_new = this.new_password;\n        this.user.password_confirmation = this.confirm_password;\n\n        try {\n          await this.$store.dispatch(\"users/update\", this.user)\n          await this.$store.dispatch(\"alerts/error\", \"Password changed successfully.\")\n          this.user = await this.$store.getters[\"profile/me\"]\n          this.$refs['password_form'].reset()\n        } catch (e) {\n          await this.$store.dispatch(\"alerts/error\", \"Oops, something went wrong!\")\n          this.setApiValidation(e.response.data.errors)\n        }\n\n      }\n    }\n  };\n</script>\n"]}]}