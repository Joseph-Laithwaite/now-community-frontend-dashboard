{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/pages/Dashboard/Examples/UserManagement/ListUserPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/pages/Dashboard/Examples/UserManagement/ListUserPage.vue","mtime":1603106112895},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvUGFnaW5hdGlvbiI7CmltcG9ydCBVc2VyRGlhbG9nIGZyb20gIkAvY29tcG9uZW50cy9Vc2VyRGlhbG9nLnZ1ZSI7CmltcG9ydCBDcmVhdGVVc2VyRGlhbG9nIGZyb20gIkAvY29tcG9uZW50cy9DcmVhdGVVc2VyRGlhbG9nLnZ1ZSI7CgoKY29uc3QgdG9Mb3dlciA9IHRleHQgPT4gewogIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKQp9Cgpjb25zdCBzZWFyY2hCeU5hbWUgPSAoaXRlbXMsIHRlcm0pID0+IHsKICBpZiAodGVybSkgewogICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihpdGVtID0+IHRvTG93ZXIoaXRlbS5uYW1lKS5pbmNsdWRlcyh0b0xvd2VyKHRlcm0pKSkKICB9CgogIHJldHVybiBpdGVtcwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzZXJMaXN0JywKCiAgY29tcG9uZW50czogewogICAgInBhZ2luYXRpb24iOiBQYWdpbmF0aW9uLAogICAgInVzZXItZGlhbG9nIjogVXNlckRpYWxvZywKICAgICJjcmVhdGUtdXNlci1kaWFsb2ciOiBDcmVhdGVVc2VyRGlhbG9nCgogIH0sCgogIGRhdGE6ICgpID0+ICh7CiAgICBzZWFyY2g6ICcnLAogICAgc2VhcmNoZWQ6IFtdLAoKICAgIGRhdGE6IFtdLAoKICAgIHF1ZXJ5OiBudWxsLAoKICAgIHNvcnRhdGlvbjogewogICAgICBmaWVsZDogImZpcnN0X25hbWUiLAogICAgICBvcmRlcjogImFzYyIKICAgIH0sCiAgICAKICAgIHBhZ2luYXRpb246IHt9LAogICAgY3VycmVudFNlbGVjdGVkUGFnZToxLAogICAgcGVyUGFnZVNlbGVjdGVkOiAyNSwKICAgIHBlclBhZ2VvcHRpb25zOiBbNSwgMTAsIDI1LCA1MCwgMTAwXSwKICAgIAogICAgc2hvd1VzZXJEaWFsb2c6IGZhbHNlLAogICAgc2VsZWN0ZWRVc2VyOiB7fSwKICAgIGRlc2lyZWRUYWI6IFtdLAoKICAgIHNob3dDcmVhdGVVc2VyRGlhbG9nOiBmYWxzZSwKICB9KSwKCiAgY29tcHV0ZWQ6IHsKICAgIHJlcXVlc3RTdHJpbmcoKXsKICAgICAgcmV0dXJuICI/cGVyUGFnZVBhZ2luYXRlPSIgKyB0aGlzLnBlclBhZ2VTZWxlY3RlZCArICcmcGFnZT0nICsgdGhpcy5jdXJyZW50U2VsZWN0ZWRQYWdlICsgJyZuYW1lUXVlcnk9JyArIHRoaXMuc2VhcmNoCiAgICB9LAoKICAgIHNvcnQoKSB7CiAgICAgIGlmICh0aGlzLnNvcnRhdGlvbi5vcmRlciA9PT0gImFzYyIpIHsKICAgICAgICByZXR1cm4gYC0ke3RoaXMuc29ydGF0aW9uLmZpZWxkfWAKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5zb3J0YXRpb24uZmllbGQ7CiAgICB9LAoKCiAgICAvLyBmcm9tKCkgewogICAgLy8gICByZXR1cm4gdGhpcy5wYWdpbmF0aW9uLnBlclBhZ2UgKiAodGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlIC0gMSk7CiAgICAvLyB9LAoKICAgIC8vIHRvKCkgewogICAgLy8gICBsZXQgaGlnaEJvdW5kID0gdGhpcy5mcm9tICsgdGhpcy5wYWdpbmF0aW9uLnBlclBhZ2U7CiAgICAvLyAgIGlmICh0aGlzLnBhZ2luYXRpb24udG90YWwgPCBoaWdoQm91bmQpIHsKICAgIC8vICAgICBoaWdoQm91bmQgPSB0aGlzLnBhZ2luYXRpb24udG90YWw7CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuIGhpZ2hCb3VuZDsKICAgIC8vIH0sCgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgfSwKCiAgd2F0Y2g6ewogICAgcGVyUGFnZVNlbGVjdGVkKCl7CiAgICAgIHRoaXMuc2VhcmNoPScnCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgfSwKICAgIHNlYXJjaCgpeyAgICAKICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0VXNlckxpc3QocGFyYW1zID0gdGhpcy5yZXF1ZXN0U3RyaW5nKSB7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2Vycy9saXN0IiwgcGFyYW1zKQogICAgICB0aGlzLnNlYXJjaGVkID0gdGhpcy5kYXRhID0gYXdhaXQgdGhpcy4kc3RvcmUuZ2V0dGVyc1sidXNlcnMvbGlzdCJdCiAgICAgIHRoaXMucGFnaW5hdGlvbiA9IGF3YWl0IHRoaXMuJHN0b3JlLmdldHRlcnNbInVzZXJzL3BhZ2luYXRpb24iXQogICAgfSwKCiAgICBwYWdpbmF0aW9uUGFnZUNoYW5nZShwYWdlKXsKICAgICAgaWYgKHRoaXMucGFnaW5hdGlvbi5jdXJyZW50X3BhZ2UpewogICAgICAgIGlmIChwYXJzZUludChwYWdlKSA9PT0gdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRfcGFnZSl7CiAgICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBwYWdlIGlzICcgKyB0aGlzLnBhZ2luYXRpb24uY3VycmVudF9wYWdlICsgJyBObyBwYWdlIGNoYW5nZSByZXF1aXJlZCB0bzogJyArIHBhZ2UpOwogICAgICAgIH1lbHNlewogICAgICAgICAgY29uc29sZS5sb2coJ0NIQU5HRSBQQUdFIFRPOiAnICsgcGFnZSk7CiAgICAgICAgICB0aGlzLmN1cnJlbnRTZWxlY3RlZFBhZ2UgPSBwYWdlOwogICAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIAogICAgc2VhcmNoT25UYWJsZSAoKSB7CiAgICAgIC8vdGhpcy5zZWFyY2hlZCA9IHNlYXJjaEJ5TmFtZSh0aGlzLmRhdGEsIHRoaXMuc2VhcmNoKQoKICAgIH0sCgogICAgZnVuY3Rpb25Ob3RZZXRBZGRlZCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFsZXJ0cy9lcnJvciIsICJUaGlzIGZ1bmN0aW9uIGhhc2Qgbm90IHlldCBiZWVuIGFkZGVkIikKICAgIH0sCgogICAgdG9nZ2xlRGlhbG9nKCl7CiAgICAgIHRoaXMuc2hvd1VzZXJEaWFsb2cgPSEgdGhpcy5zaG93VXNlckRpYWxvZzsKICAgIH0sCgogICAgdG9nZ2xlQ3JlYXRlVXNlckRpYWxvZygpewogICAgICB0aGlzLnNob3dDcmVhdGVVc2VyRGlhbG9nID0hIHRoaXMuc2hvd0NyZWF0ZVVzZXJEaWFsb2c7CiAgICB9LAoKICAgIC8vIGNyZWF0ZVVzZXIoKXsKICAgIC8vICAgbGV0IG5ld1VzZXIgPSBuZXcgT2JqZWN0CiAgICAvLyAgIHRoaXMuc2VsZWN0ZWRVc2VyPW5ld1VzZXI7CiAgICAvLyAgIHRoaXMudG9nZ2xlRGlhbG9nKCk7CiAgICAvLyB9LAoKICAgIHNlbGVjdFVzZXIoKXsKICAgICAgdGhpcy5zZWxlY3RlZFVzZXIgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd1c2Vycy91c2VyJ10KICAgICAgdGhpcy50b2dnbGVEaWFsb2coKQogICAgfSwKCiAgICBvblNlbGVjdCAoaXRlbSkgewogICAgICBpZihpdGVtKXsKICAgICAgICB0aGlzLnNlbGVjdGVkVXNlciA9IGl0ZW0KICAgICAgfQogICAgICB0aGlzLnRvZ2dsZURpYWxvZygpCiAgICB9LAogICAgCiAgICBjbG9zZURpYWxvZygpewogICAgICB0aGlzLnRvZ2dsZURpYWxvZygpCiAgICAgIHRoaXMuZGVzaXJlZFRhYi5wb3AoKQogICAgfSwKCiAgICBjdXN0b21Tb3J0KCkgewogICAgICByZXR1cm4gZmFsc2UKICAgIH0KCiAgfQoKfQoK"},{"version":3,"sources":["ListUserPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"ListUserPage.vue","sourceRoot":"src/pages/Dashboard/Examples/UserManagement","sourcesContent":["<template>\n  <div class=\"md-layout\">\n    <user-dialog \n      :showDialog=showUserDialog\n      :user=selectedUser\n      :desiredTab=desiredTab[0]\n      v-on:close-user-dialog=\"closeDialog\"  \n    ></user-dialog>\n    <create-user-dialog\n      :showDialog=showCreateUserDialog\n      v-on:close-user-dialog=\"toggleCreateUserDialog\" \n      v-on:user-created=\"selectUser\"\n    ></create-user-dialog>\n    <div class=\"md-layout-item md-size-100\">\n      <md-card>\n        <md-card-header class=\"md-card-header-icon md-card-header-green\">\n          <div class=\"card-icon\">\n            <md-icon>assignment</md-icon>\n          </div>\n          <h4 class=\"title\">Users List</h4>\n        </md-card-header>\n        <md-card-content>\n          <div class=\"text-right\">\n            <md-button class=\"md-primary md-dense\" @click=\"toggleCreateUserDialog\">\n              Create User\n            </md-button>\n          </div>\n          <md-table\n            :value=\"searched\"\n            \n            md-sort=\"name\" \n            md-sort-order=\"asc\" \n\n            md-card\n            @md-selected=\"onSelect\"\n            \n            class=\"paginated-table table-striped table-hover\"\n          >\n            <md-table-toolbar>\n              <md-field class=\"md-toolbar-section-end\">\n                <label for=\"perPageSelected\">Per Page</label>\n                <md-select v-model=\"perPageSelected\" name=\"perPageSelected\" id=\"perPageSelected\">\n                  <md-option v-for=\"option in perPageoptions\" :key=\"option\" :value=\"option\">{{option}}</md-option>\n                </md-select>\n              </md-field>\n\n              <md-field md-clearable class=\"md-toolbar-section-end\">\n                <md-input placeholder=\"Search by name...\" v-model=\"search\" @input=\"searchOnTable\" />\n              </md-field>\n            </md-table-toolbar>\n\n            <md-table-empty-state\n              md-icon=\"search\"\n              md-label=\"No users found\"\n              :md-description=\"`No user found for this '${search}' query. Try a different search term or create a new user.`\">\n              <md-button class=\"md-primary md-raised\" @click=\"toggleCreateUserDialog\">Create New User</md-button>\n            </md-table-empty-state>\n\n            <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\" class='md-primary' md-selectable=\"single\">\n              <md-table-cell md-label=\"Name\" md-sort-by=\"first_name\">{{item.first_name + ' ' + item.last_name}}</md-table-cell>\n              <md-table-cell md-label=\"Email\" md-sort-by=\"email\">{{item.email}}</md-table-cell>\n              <md-table-cell md-label=\"Created At\" md-sort-by=\"created_at\">{{item.created_at}}</md-table-cell>\n              <md-table-cell md-label=\"Actions\">\n                <md-button class=\"md-icon-button md-raised md-round\" @click=\"desiredTab.push('edit')\" style=\"margin: .2rem;\">\n                  <md-icon>edit</md-icon>\n                </md-button>\n                <md-button class=\"md-icon-button md-raised md-round md-danger\" @click=\"desiredTab.push('delete')\" style=\"margin: .2rem;\">\n                  <md-icon>delete</md-icon>\n                </md-button>\n              </md-table-cell>\n            </md-table-row>\n          </md-table>\n        </md-card-content>\n\n        <md-card-actions md-alignment=\"space-between\">\n          <div class=\"\">\n            <p class=\"card-category\">\n              Showing {{ pagination.from }} to {{ pagination.to }} of {{ pagination.total }} entries\n            </p>\n          </div>\n          \n          <pagination\n            class=\"pagination-no-border pagination-success\"\n            v-model=\"currentSelectedPage\"\n            :per-page=\"pagination.per_page\"\n            :total=\"pagination.total\"\n            :page-count=\"pagination.last_page\"\n            :value=\"pagination.value\"\n            @input=\"paginationPageChange\"\n          />\n        </md-card-actions>\n\n      </md-card>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import Pagination from \"@/components/Pagination\";\n  import UserDialog from \"@/components/UserDialog.vue\";\n  import CreateUserDialog from \"@/components/CreateUserDialog.vue\";\n\n\n  const toLower = text => {\n    return text.toString().toLowerCase()\n  }\n\n  const searchByName = (items, term) => {\n    if (term) {\n      return items.filter(item => toLower(item.name).includes(toLower(term)))\n    }\n\n    return items\n  }\n\n  export default {\n    name: 'UserList',\n\n    components: {\n      \"pagination\": Pagination,\n      \"user-dialog\": UserDialog,\n      \"create-user-dialog\": CreateUserDialog\n\n    },\n\n    data: () => ({\n      search: '',\n      searched: [],\n\n      data: [],\n\n      query: null,\n\n      sortation: {\n        field: \"first_name\",\n        order: \"asc\"\n      },\n      \n      pagination: {},\n      currentSelectedPage:1,\n      perPageSelected: 25,\n      perPageoptions: [5, 10, 25, 50, 100],\n      \n      showUserDialog: false,\n      selectedUser: {},\n      desiredTab: [],\n\n      showCreateUserDialog: false,\n    }),\n\n    computed: {\n      requestString(){\n        return \"?perPagePaginate=\" + this.perPageSelected + '&page=' + this.currentSelectedPage + '&nameQuery=' + this.search\n      },\n\n      sort() {\n        if (this.sortation.order === \"asc\") {\n          return `-${this.sortation.field}`\n        }\n        return this.sortation.field;\n      },\n\n\n      // from() {\n      //   return this.pagination.perPage * (this.pagination.currentPage - 1);\n      // },\n\n      // to() {\n      //   let highBound = this.from + this.pagination.perPage;\n      //   if (this.pagination.total < highBound) {\n      //     highBound = this.pagination.total;\n      //   }\n      //   return highBound;\n      // },\n\n    },\n\n    created() {\n      this.getUserList();\n    },\n\n    watch:{\n      perPageSelected(){\n        this.search=''\n        this.getUserList()\n      },\n      search(){    \n        this.getUserList()\n      }\n    },\n\n    methods: {\n      async getUserList(params = this.requestString) {\n        await this.$store.dispatch(\"users/list\", params)\n        this.searched = this.data = await this.$store.getters[\"users/list\"]\n        this.pagination = await this.$store.getters[\"users/pagination\"]\n      },\n\n      paginationPageChange(page){\n        if (this.pagination.current_page){\n          if (parseInt(page) === this.pagination.current_page){\n            console.log('Current page is ' + this.pagination.current_page + ' No page change required to: ' + page);\n          }else{\n            console.log('CHANGE PAGE TO: ' + page);\n            this.currentSelectedPage = page;\n            this.getUserList();\n          }\n        }\n      },\n      \n      searchOnTable () {\n        //this.searched = searchByName(this.data, this.search)\n\n      },\n\n      functionNotYetAdded() {\n        this.$store.dispatch(\"alerts/error\", \"This function hasd not yet been added\")\n      },\n\n      toggleDialog(){\n        this.showUserDialog =! this.showUserDialog;\n      },\n\n      toggleCreateUserDialog(){\n        this.showCreateUserDialog =! this.showCreateUserDialog;\n      },\n\n      // createUser(){\n      //   let newUser = new Object\n      //   this.selectedUser=newUser;\n      //   this.toggleDialog();\n      // },\n\n      selectUser(){\n        this.selectedUser = this.$store.getters['users/user']\n        this.toggleDialog()\n      },\n\n      onSelect (item) {\n        if(item){\n          this.selectedUser = item\n        }\n        this.toggleDialog()\n      },\n      \n      closeDialog(){\n        this.toggleDialog()\n        this.desiredTab.pop()\n      },\n\n      customSort() {\n        return false\n      }\n\n    }\n\n  }\n\n</script>"]}]}