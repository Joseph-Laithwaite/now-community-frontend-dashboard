{"remainingRequest":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/components/ImageUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/src/components/ImageUpload.vue","mtime":1605702275375},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josephlaithwaite/Documents/VueLearning/NC-vue-laravel-dashboard/vue-material-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOnsKICAgICAgICBpdGVtSUQ6IHsgCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogInByb2R1Y3RfaW1hZ2UiLAogICAgICAgIH0sCiAgICAgICAgaW1hZ2VVUkw6IHtkZWZhdWx0Om51bGx9LAogICAgICAgIHBsYWNlaG9sZGVyVVJMOiB7ZGVmYXVsdDogImh0dHBzOi8vd29scGVyLmNvbS5hdS93cC1jb250ZW50L3VwbG9hZHMvMjAxNy8xMC9pbWFnZS1wbGFjZWhvbGRlci5qcGcifSwKICAgICAgICBtYXhGaWxlU2l6ZTogeyBkZWZhdWx0OjI5Njk2MCB9LAogICAgICAgIGhlaWdodDp7IGRlZmF1bHQ6MTAwfSAsCiAgICAgICAgd2lkdGg6eyBkZWZhdWx0OjEwMH0KICAgIH0sCiAgICAKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgZmlsZU92ZXJzaXplZDogZmFsc2UsCiAgICAgICAgc2VsZWN0ZWRGaWxlOiBudWxsLAogICAgICAgIHVybDogIiIsCiAgICB9KSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgY2hhbmdlRmlsZShldmVudCl7CiAgICAgICAgICAgIC8vIHZhciBmaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pdGVtSUQpLmZpbGVzWzBdOwogICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZEZpbGUpOwogICAgICAgICAgICBpZih0aGlzLnNlbGVjdGVkRmlsZS5zaXplIDw9IHRoaXMubWF4RmlsZVNpemUpewogICAgICAgICAgICAgICAgdmFyIHJlYWRlciAgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7CiAgICAgICAgICAgICAgICAvLyAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZScpOwogICAgICAgICAgICAgICAgICB0aGlzLnVybCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuc2VsZWN0ZWRGaWxlKTsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ25ldy1maWxlJywgdGhpcy5zZWxlY3RlZEZpbGUpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhbGVydHMvZXJyb3IiLCAiVGhlIGltYWdlIHlvdSdyZSB0cnlpbmcgdG8gdXBsb2FkIG11c3QgYmUgdW5kZXIgIiArIHRoaXMubWF4RmlsZVNpemUvMTAwMCArICJrYiIpCiAgICAgICAgICAgICAgICAvLyBpbWFnZS5zcmMgPSB0aGlzLnBsYWNlaG9sZGVyVVJMOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmaWxlRnJvbVVybCh1cmwpewogICAgICAgICAgICBmZXRjaCh1cmwsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsIC8vICpHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBldGMuCiAgICAgICAgICAgICAgICBtb2RlOiAnY29ycycsIC8vIG5vLWNvcnMsICpjb3JzLCBzYW1lLW9yaWdpbgogICAgICAgICAgICAgICAgY2FjaGU6ICduby1jYWNoZScsIC8vICpkZWZhdWx0LCBuby1jYWNoZSwgcmVsb2FkLCBmb3JjZS1jYWNoZSwgb25seS1pZi1jYWNoZWQKICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsIC8vIGluY2x1ZGUsICpzYW1lLW9yaWdpbiwgb21pdAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOicqJwogICAgICAgICAgICAgICAgLy8gJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgLy8gJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmJsb2IoKSkgLy8gR2V0cyB0aGUgcmVzcG9uc2UgYW5kIHJldHVybnMgaXQgYXMgYSBibG9iCiAgICAgICAgICAgICAgICAudGhlbihibG9iID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhibG9iKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCduZXctZmlsZScsIGJsb2IpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNyZWF0ZWQoKXsKICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMuaW1hZ2VVUkwgPT0gJ251bGwnIHx8IHRoaXMuaW1hZ2VVUkwgPT0gJycpewogICAgICAgICAgICAgICAgdGhpcy51cmwgPSB0aGlzLnBsYWNlaG9sZGVyVVJMOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLnVybCA9IHRoaXMuaW1hZ2VVUkw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cg=="},{"version":3,"sources":["ImageUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageUpload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div>\n            <label :for=\"itemID\">\n            <img \n                id=image \n                :src=\"url\" \n                :height=\"height\" \n                :width=\"width\"\n                style=\"\n                cursor:pointer;\n                display: block;\n                margin-left: auto;\n                margin-right: auto; \"\n            />\n            </label>\n            <input \n                :id=\"itemID\" \n                type=file \n                accept=\"image/*\"\n                :name=\"itemID\"\n                @change=\"changeFile\"\n                style=\"display: none;\"\n            >\n        </div>\n        <span class=\"md-error\" v-if=\"fileOversized\">\n            file too large.\n            <br>\n        </span>\n    </div>\n</template>\n\n<script>\nimport Axios from 'axios';\nexport default {\n    props:{\n        itemID: { \n            type: String,\n            default: \"product_image\",\n        },\n        imageURL: {default:null},\n        placeholderURL: {default: \"https://wolper.com.au/wp-content/uploads/2017/10/image-placeholder.jpg\"},\n        maxFileSize: { default:296960 },\n        height:{ default:100} ,\n        width:{ default:100}\n    },\n    \n    data: () => ({\n        fileOversized: false,\n        selectedFile: null,\n        url: \"\",\n    }),\n\n    methods: {\n        changeFile(event){\n            // var file = document.getElementById(this.itemID).files[0];\n            this.selectedFile = event.target.files[0];\n            console.log(this.selectedFile);\n            if(this.selectedFile.size <= this.maxFileSize){\n                var reader  = new FileReader();\n                reader.onload = (e) => {\n                //   var image = document.getElementById('image');\n                  this.url = e.target.result;\n                }\n                reader.readAsDataURL(this.selectedFile);\n                this.$emit('new-file', this.selectedFile);\n            }else{\n                this.$store.dispatch(\"alerts/error\", \"The image you're trying to upload must be under \" + this.maxFileSize/1000 + \"kb\")\n                // image.src = this.placeholderURL;\n            }\n        },\n        fileFromUrl(url){\n            fetch(url, {\n                method: 'GET', // *GET, POST, PUT, DELETE, etc.\n                mode: 'cors', // no-cors, *cors, same-origin\n                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n                credentials: 'include', // include, *same-origin, omit\n                headers: {\n                    'Access-Control-Allow-Origin':'*'\n                // 'Content-Type': 'application/json'\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n                },\n                })\n                .then(res => res.blob()) // Gets the response and returns it as a blob\n                .then(blob => {\n                    console.log(blob);\n                    this.$emit('new-file', blob);\n                });\n            }\n        },\n        created(){\n            if(typeof this.imageURL == 'null' || this.imageURL == ''){\n                this.url = this.placeholderURL;\n            }\n            else{\n                this.url = this.imageURL;\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}